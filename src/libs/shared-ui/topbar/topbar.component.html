<div class="topbar elevated" [class.topbar--hidden-mobile-conversaciones]="isConversacionesRoute">
  <input 
    *ngIf="config.showSearch"
    class="search" 
    [placeholder]="config.searchPlaceholder"
    readonly
    (click)="onHelpClick()" />
  
  <div class="actions">
    <button 
      *ngIf="config.showHamburger"
      class="hamburger" 
      (click)="onHamburgerClick()">
      <ui-icon name="menu"></ui-icon>
    </button>
    
    <ui-notification-container
      *ngIf="config.showNotifications"
      [userProfile]="config.userProfile || 'client'"
      (notificationClick)="onNotificationAction($event)">
    </ui-notification-container>
    
    <button 
      *ngIf="config.showSettings"
      class="icon" 
      (click)="onSettingsClick()">
      <ui-icon name="settings"></ui-icon>
    </button>
  </div>
</div>

<div *ngIf="cashNotice" class="topbar-banner">
  <div class="topbar-banner__icon">
    <ui-icon name="alert-triangle"></ui-icon>
  </div>
  <div class="topbar-banner__content">
    <span class="topbar-banner__title">Ingresa la comisión de tu último cobro en efectivo</span>
    <span class="topbar-banner__subtitle">
      Monto pendiente: ${{ cashNotice.amount | number:'1.0-0' }}
      <span *ngIf="cashNotice.dueDateLabel"> • Vence el {{ cashNotice.dueDateLabel }}</span>
    </span>
  </div>
  <button type="button" class="topbar-banner__action" (click)="onCashNoticeClick()">
    Ir a Pagos en Efectivo
  </button>
</div>

<!-- Modal de Búsqueda Global -->
<ui-global-search-modal
  [isOpen]="isSearchModalOpen"
  (close)="onSearchModalClose()"
  (suggestionClick)="onSearchSuggestionClick($event)">
</ui-global-search-modal>
