<!-- Modal para Rechazar Reserva -->
<div 
  *ngIf="isOpen" 
  class="modal-overlay"
  (click)="onBackdropClick($event)"
  [class.modal-open]="isOpen">
  
  <div class="modal-container modal-enter" [class.modal-enter-active]="isOpen">
    <div class="modal-header">
      <h2 class="modal-title">
        <ui-icon name="exclamation-triangle" class="modal-icon modal-icon--warning"></ui-icon>
        ¿Por qué rechazas esta solicitud?
      </h2>
    </div>

    <div class="modal-content" *ngIf="reservaData">
      <p class="modal-description">
        Rechazarás la solicitud de <strong>{{ reservaData.service }}</strong> de <strong>{{ reservaData.clientName }}</strong>.
      </p>

      <div class="rejection-reasons">
        <label 
          *ngFor="let reason of rejectionReasons" 
          class="reason-option"
          [class.reason-option--selected]="selectedReason === reason.value">
          
          <input 
            type="radio" 
            name="rejection_reason" 
            [value]="reason.value"
            [(ngModel)]="selectedReason"
            (change)="onReasonChange()"
            class="reason-radio">
          
          <span class="reason-label">{{ reason.label }}</span>
        </label>
      </div>

      <div class="custom-reason" *ngIf="selectedReason === 'other'">
        <label class="custom-reason-label">
          Especifica el motivo:
        </label>
        <textarea 
          [(ngModel)]="customReason"
          class="custom-reason-textarea"
          placeholder="Describe el motivo del rechazo..."
          rows="3">
        </textarea>
      </div>
    </div>

    <div class="modal-actions">
      <button 
        type="button"
        class="btn btn--secondary"
        (click)="onClose()"
        [disabled]="loading">
        Cancelar
      </button>
      
      <button 
        type="button"
        class="btn btn--danger"
        (click)="onConfirm()"
        [disabled]="!canConfirm || loading">
        <span *ngIf="loading" class="btn-spinner"></span>
        {{ loading ? 'Rechazando...' : 'Rechazar Solicitud' }}
      </button>
    </div>
  </div>
</div>












