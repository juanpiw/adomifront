<div class="rp-card">
  <button 
    *ngIf="data?.estado === 'Completado'"
    type="button"
    class="rp-fav"
    [class.rp-fav--active]="data?.isFavorite"
    (click)="onToggleFavorite.emit()"
    [attr.aria-label]="data?.isFavorite ? 'Quitar de favoritos' : 'Agregar a favoritos'"
    [title]="data?.isFavorite ? 'Quitar de favoritos' : 'Agregar a favoritos'">
    <ui-icon name="heart" class="rp-fav__icon"></ui-icon>
  </button>
  <div class="rp-row">
    <img [src]="data.avatarUrl" class="rp-avatar" [alt]="data.titulo">
    <div class="rp-info">
      <p class="rp-title">{{ data.titulo }}</p>
      <p class="rp-date">{{ data.fecha }}</p>
    </div>
    <div class="rp-right">
      <div style="display:flex; align-items:center; gap:8px; justify-content:flex-end;">
        <p class="rp-price" style="margin:0;">{{ data.precio }}</p>
      </div>
      <p class="rp-state">{{ data.estado || 'Completado' }}</p>
    </div>
  </div>
  <div class="rp-actions">
    <button class="rp-btn primary" (click)="onReview.emit()">Dejar una reseÃ±a</button>
    <button class="rp-btn dark" (click)="onReschedule.emit()">Volver a Agendar</button>
  </div>
</div>
