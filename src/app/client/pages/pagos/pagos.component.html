<div class="pagos-container">
  <div class="pagos-wrapper">
    <!-- Header -->
    <ui-payment-methods-header></ui-payment-methods-header>

    <!-- Contenido principal -->
    <div class="pagos-content">
      <!-- Sección de tarjetas -->
      <div class="pagos-section">
        <ui-saved-cards-section
          [cards]="cards"
          [preference]="paymentPreference"
          (cardDeleted)="onCardDeleted($event)"
          (cardSetPrimary)="onCardSetPrimary($event)"
          (addCard)="onAddCard()">
        </ui-saved-cards-section>
      </div>

      <!-- Sección de saldo -->
      <div class="pagos-section">
        <ui-balance-card
          [balance]="balance"
          [status]="balanceStatus"
          (liquidationRequested)="onLiquidationRequested()"
          (withdrawalRequested)="onWithdrawalRequested()">
        </ui-balance-card>
      </div>

      <!-- Sección de transacciones -->
      <div class="pagos-section" #transactionsSection>
        <div class="transactions-status" *ngIf="transactionsLoading">
          Cargando historial de pagos...
        </div>
        <div class="transactions-status transactions-status--error" *ngIf="!transactionsLoading && transactionsError">
          {{ transactionsError }}
        </div>
        <div class="transactions-status transactions-status--empty" *ngIf="!transactionsLoading && !transactionsError && transactions.length === 0">
          Aún no registras pagos.
        </div>
        <ui-transactions-table
          *ngIf="transactions.length > 0"
          [transactions]="transactions"
          [showCount]="transactions.length || 0">
        </ui-transactions-table>
      </div>
    </div>
  </div>

  <!-- Modal para añadir tarjeta -->
  <ui-add-card-modal
    [isOpen]="showAddCardModal"
    (close)="onCloseModal()"
    (cardAdded)="onCardAdded($event)">
  </ui-add-card-modal>
</div>








