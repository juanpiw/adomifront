<div class="estadisticas-container">
  <ui-statistics-header></ui-statistics-header>
  
  <ui-date-filter 
    [range]="dateRange" 
    (rangeChange)="onDateRangeChange($event)">
  </ui-date-filter>
  
  <div *ngIf="error" class="analytics-error">{{ error }}</div>
  
  <ui-kpi-cards 
    [summary]="summary"
    [rangeLabel]="rangeLabel"
    [loading]="loading">
  </ui-kpi-cards>
  
<div
  *ngIf="!loading && !error && !summary && timeseries.length === 0 && services.length === 0 && reviews.length === 0"
  class="analytics-empty"
>
  Aún no contamos con datos en este rango. Cuando completes reservas pagadas, verás aquí tus métricas.
</div>

  <!-- Gráficos en grid -->
  <div class="charts-grid">
    <ui-revenue-chart 
      [series]="timeseries"
      [group]="timeseriesGroup"
      [loading]="loading">
    </ui-revenue-chart>
    <ui-services-chart 
      [services]="services"
      [loading]="loading">
    </ui-services-chart>
  </div>
  
  <!-- Tabla de reseñas -->
  <ui-reviews-table 
    [reviews]="reviews"
    [loading]="loading">
  </ui-reviews-table>
</div>


